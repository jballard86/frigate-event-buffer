# Frigate Event Buffer Configuration
# ===================================
#
# Copy this file to config.yaml and update with your values:
#   cp config.yaml.example config.yaml
#
# This file contains non-sensitive application settings.
# Sensitive values can also be set via environment variables,
# which always override values in this file.

# Camera configuration with per-camera label filtering
# Only events from listed cameras will be processed
# Omit a camera entirely to filter it out
cameras:
  # Example: Doorbell - only person and package events
  - name: "YOUR_CAMERA_1"
    labels:
      - "person"
      - "package"

  # Example: Driveway - only vehicle events
  - name: "YOUR_CAMERA_2"
    labels:
      - "car"
      - "truck"

  # Example: Backyard - allow ALL labels (empty list)
  # - name: "YOUR_CAMERA_3"
  #   labels: []

# Application settings
settings:
  # How many days to keep event recordings
  retention_days: 3

  # How often to run cleanup (in hours)
  cleanup_interval_hours: 1

  # FFmpeg transcode timeout in seconds (kills hung processes)
  ffmpeg_timeout_seconds: 60

  # Delay before fetching snapshot after initial notification (seconds)
  # Notification is sent instantly; this delay lets Frigate select a better frame
  # before the snapshot update. Set to 0 to fetch immediately.
  notification_delay_seconds: 2

  # Logging level: DEBUG, INFO, WARNING, ERROR
  log_level: "INFO"

  # Review summary time padding (seconds)
  # Controls the time window sent to Frigate's review summary API
  # Covers activity from all GenAI-equipped cameras in the time range
  summary_padding_before: 15   # seconds before event start
  summary_padding_after: 15    # seconds after event end

# Network configuration
# These can be overridden by environment variables:
#   MQTT_BROKER, MQTT_PORT, FRIGATE_URL, BUFFER_IP, FLASK_PORT, STORAGE_PATH
network:
  mqtt_broker: "YOUR_MQTT_BROKER_IP"
  mqtt_port: 1883
  frigate_url: "http://YOUR_FRIGATE_IP:5000"
  # IP/hostname where this buffer container is reachable (used in notification image/video URLs)
  buffer_ip: "YOUR_BUFFER_IP"
  flask_port: 5055
  storage_path: "/app/storage"
